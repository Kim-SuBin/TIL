# 제4절 관계 (Relationship)

## 1. 관계의 개념

### 1. 관계의 정의

엔티티의 인스턴스 사이의 논리적인 연관성으로서 존재 또는 행위로서 서로에게 연관성이 부여된 상태

### 2. 관계의 페어링

- 페어링 : 엔티티 안에 인스턴스가 개별적으로 관계를 가지는 것
- 관계 페어링 : 엔티티 내 인스턴스와 인스턴스 사이에 관계가 설정되어 있는 어커런스
- 엔티티는 인스턴스의 집합을 논리적으로 표현했다면 관게는 관계 페어링의 집합을 논리적으로 표현한 것

## 2. 관계의 분류

어떤 목적으로 연결되었느냐에 따라 분류

1. 존재에 의한 관계
    - 존재의 형태에 의해 관계가 형성되어 있는 것
    - 클래스 다이어그램의 연관관계에 해당
    - 표현방법은 실선, 소스코드에서는 멤버 변수로 선언
2. 행위에 의한 관계
    - 행위에 의해 관계가 형성되는 것
    - 클래스 다이어그램의 의존관계에 해당
    - 표현방법은 점선, 소스코드에서 Operation(Method)의 파라미터 등으로 이용

## 3. 관계의 표기법

### 1. 관계명 (Membership)

- 관계의 이름
- 엔티티가 관계에 참여하는 형태 지칭
- 각각의 관계는 두 개의 관계명을 가지며, 두 가지의 관점으로 표현됨
- 엔티티에서 관계가 시작되는 편을 관계시작점이라고 부르고, 받는편을 관계끝점이라고 부름
- 명명규칙
    1. 애매한 동사는 피하기
    2. 현재형으로 표현

### 2. 관계차수 (Degree/Cardinality)

- 두 개의 엔티티 간 관게에서 참여자 수를 표현하는 것
- 한 개가 참여하는 경우 실선, 다수가 참여하는 경우 까마귀 발과 같은 모양으로 그림
- 관계차수
    1. 1:1 (One To One)
        - 관계에 참여하는 각각의 엔티티는 관계를 맺는 다른 엔티티에 대해 단 하나의 관계만을 가짐
    2. 1:M (One To Many)
        - 관계에 참여하는 각각의 엔티티는 관계를 맺는 다른 엔티티에 대해 하나나 그 이상의 수와 관계를 가지는데, 반대 방향은 단 하나의 관계를 가짐
    3. M:N (Many To Many)
        - 관게에 참여하는 각각의 엔티티는 관계를 맺는 다른 엔티티에 대해 하나 그 이상의 수와 관계를 가짐
        - 두 개의 주식별자를 상속받는 관계 엔티티를 이용하여 3애의 엔티티로 구분하여 표현

### 3. 관계선택사양 (Optionality)

1. 필수 참여 관계
    - 참여하는 모든 참여자가 반드시 관계를 가지며 타 엔티티의 참여자와 연결되어야 하는 관계
2. 선택 참여 관게
    - 타참여하는 엔티티가 항상 참여하는 것이 아닌 참여할 수 있는 관계
    - 물리속성에서 FK로 연결될 경우 Null이 허용될 수 있는 항목
    - ERD에서 관계를 나타내는 선에서 선택 참여하는 엔티티쪽을 원으로 표시 (필수참여는 아무런 표시를 하지 않음)

## 4. 관계의 정의 및 읽는 방법

### 1. 관계 체크사항

- 두 개의 엔티티 사이에 관심있는 연관규칙이 존재하는가?
- 두 개의 엔티티 사이에 정보의 조합이 발생되는가?
- 업무기술서, 장표에 관계연결에 대한 규칙이 서술되어 있는가?
- 업무기술서, 장표에 관계연결을 가능하게 하는 동사(Verb)가 있는가?

### 2. 관계 읽기

- 기준 엔티티를 한 개 또는 각으로 읽기
- 대상 엔티티의 관계참여도 즉 개수(하나, 하나 이상) 읽기
- 관계선택사양과 관계명 읽기

> 본 포스팅은 SQL 개발자 가이드를 참고하여 작성되었습니다.