# 제4절 대량 데이터에 따른 성능

## 1. 대량 데이터 발생에 따른 테이블 분할 개요

- 대량의 데이터가 존재하는 테이블에 많은 트랜잭션이 발생하여 성능이 저하되는 테이블 구조에 대해 수평/수직 분할 설계를 통해 성능 저하를 예방할 수 있음
- 한 테이블에 데이터가 대량으로 집중되거나 하나의 테이블에 여러 칼럼이 존재하여 디스크에 많은 블록을 점유하는 경우 성능 저하 유발
- 대량의 데이터가 처리되는 테이블의 성능 저하 원인은 SQL문장에 데이터를 처리하기 위한 I/O의 양 증가
- 많은 칼럼은 로우체이닝과 로우마이그레이션이 많아지게 되어 성능이 저하됨

## 2. 한 테이블에 많은 수의 칼럼을 가지고 있는 경우

- 트랜잭션이 발생될 때 어떤 칼럼에 대해 집중적으로 발생하는지 분석하여 테이블을 쪼개어주면 디스크 I/O가 감소하게 되어 성능이 개선됨
- 분리된 테이블은 디스크에 적어진 칼럼이 저장되므로 로우마이그레이션과 로우체이닝이 많이 줄어듦
- 트랜잭션을 분석하여 적절하게 1:1관계로 분리함으로써 성능 향상 가능

## 3. 대량 데이터 저장 및 처리로 인한 성능

- 테이블에 많은 양의 데이터가 예상될 경우 파티셔닝을 적용하거나 PK에 의해 테이블을 분할하는 방법 적용 가능
- 논리적으로는 하나의 테이블로 보이지만 물리적으로 여러 개의 테이블 스페이스에 쪼개어 젖장될 수 있는 구조

### 1. Range Partition 적용

- 하나의 테이블에 너무 많은 데이터가 존재하여 성능이 느려진 경우 주로 적용
- 날짜 또는 숫자값 분리
- 각 영역별 트랜잭션 분리
- 데이터 보관 주기에 따라 테이블 데이터를 쉽게 지울 수 있음 (파티션 테이블 drop)

### 2. List Partition 적용

- PK로 구성되어 있고 대량의 데이터가 있는테이블의 경우 각각의 값에 의해 파티셔닝되는 List Partition 적용
- 대용량 데이터를 특정 값에 따라 분리 저장 가능
- 데이터 보관 주기에 따른 삭제 기능 제공 X

### 3. Hash Partition 적용

- 지정된 Hash 조건에 따라 해쉬 알고리즘이 적용되어 테이블 분리
- 성능 향상을 위해 사용
- 데이터 보관 주기에 따른 삭제 기능 제공 X

## 4. 테이블에 대한 수평분할/수직분할의 절차

1. 데이터 모델링 완성
2. 데이터베이스 용량 산정
3. 대량 데이터가 처리되는 테이블에 대해 트랜잭션 처리 패턴 분석
4. 집중화된 처리가 칼럼 단위로 발생되는지, 로우 단위로 발생되는지 분석하여 집중화된 단위로 테이블을 분리하는 것을 검토

> 본 포스팅은 SQL 개발자 가이드를 참고하여 작성되었습니다.